<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wassail: wassail</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">wassail
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">wassail </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/samcmill/wassail/actions?query=workflow%3A%22Linux+build%22"></a> <a href="https://github.com/samcmill/wassail/actions?query=workflow%3A%22macOS+build%22"></a> <a href="https://coveralls.io/github/samcmill/wassail?branch=master"></a> <a href="https://github.com/samcmill/wassail/blob/master/LICENSE"></a></p>
<p>wassail is a set of C++ building blocks to check the health of UNIX-based systems. Python bindings are also included.</p>
<p>The library is based on the observation that high performance computing sites tend to create their own custom local health tools. The user interfaces vary widely but the health checks themselves are universal. wassail provides highly customizable "low level" building blocks for creating bespoke user level system health tools.</p>
<h2>Examples</h2>
<p>Check whether the value of the environment variable <code>FOO</code> is equal to <code>bar</code>:</p>
<div class="fragment"><div class="line">#include &lt;wassail.hpp&gt;</div><div class="line"></div><div class="line">auto d = wassail::data::environment();</div><div class="line">auto c = wassail::check::misc::environment(&quot;FOO&quot;, &quot;bar&quot;);</div><div class="line">auto r = c.check(d); /* implicitly evalutes d */</div><div class="line"></div><div class="line">// {&quot;action&quot;:&quot;&quot;,&quot;brief&quot;:&quot;Checking environment variable &#39;FOO&#39;&quot;,&quot;children&quot;:[],&quot;detail&quot;:&quot;Value &#39;bar&#39; matches &#39;bar&#39;&quot;,&quot;issue&quot;:0,&quot;priority&quot;:3,&quot;system_id&quot;:[&quot;MacBook-Pro.local&quot;],&quot;timestamp&quot;:1578031355}</div><div class="line">std::cout &lt;&lt; static_cast&lt;json&gt;(r) &lt;&lt; std::endl;</div></div><!-- fragment --><p>The three categories of key buildings are shown in this example.</p>
<ol type="1">
<li>Data building blocks collect information about the system. wassail provides multiple data sources in the <code>wassail::data</code> namespace. Data sources are not queried when the object is initialized but rather when the <code>evaluate()</code> method is invoked (the data is cached).</li>
<li>Check building blocks validate the collected data against a specified reference value. wassail provides multiple checks in the <code>wassail::check</code> namespace as well as flexible generic checks. The reference value could be hard-coded or user configurable via the user interface of the user level system health tool.</li>
<li>Checks return result objects. The user level health tool can easily customize the presentation of the result, such as choosing the terminology to appear if an issue is detected. In C++ tools the result <code>&lt;&lt;</code> operator can be overloaded. The message strings can also be customized by specifying alternative templates when constructing the check.</li>
</ol>
<div class="fragment"><div class="line">// customize the result message templates (libfmt syntax)</div><div class="line">auto c = wassail::check::misc::environment(&quot;FOO&quot;, &quot;bar&quot;, false,</div><div class="line">           &quot;Validating environment variable {0}&quot;,</div><div class="line">           &quot;Observed value &#39;{0}&#39; does not equal the reference value &#39;{1}&#39;&quot;,</div><div class="line">           &quot;Unable to validate&quot;,</div><div class="line">           &quot;Observed value and reference value are the same: &#39;{0}&#39;&quot;);</div><div class="line">auto r = c.check(d); /* implicitly evalutes d */</div><div class="line"></div><div class="line">// {&quot;action&quot;:&quot;&quot;,&quot;brief&quot;:&quot;Validating environment variable FOO&quot;,&quot;children&quot;:[],&quot;detail&quot;:&quot;Observed value and reference value are the same: &#39;bar&#39;&quot;,&quot;issue&quot;:0,&quot;priority&quot;:3,&quot;system_id&quot;:[&quot;MacBook-Pro.local&quot;],&quot;timestamp&quot;:1578033076}</div><div class="line">std::cout &lt;&lt; static_cast&lt;json&gt;(r) &lt;&lt; std::endl;</div></div><!-- fragment --><p>The equivalent example to check the value of the environment variable <code>FOO</code> using the Python binding:</p>
<div class="fragment"><div class="line">import wassail</div><div class="line"></div><div class="line">d = wassail.data.environment()</div><div class="line">c = wassail.check.misc.environment(&#39;FOO&#39;, &#39;bar&#39;)</div><div class="line">r = c.check(d) # implicitly evaluates d</div><div class="line"></div><div class="line"># {&quot;action&quot;:&quot;&quot;,&quot;brief&quot;:&quot;Checking environment variable &#39;FOO&#39;&quot;,&quot;children&quot;:[],&quot;detail&quot;:&quot;Value &#39;bar&#39; matches &#39;bar&#39;&quot;,&quot;issue&quot;:0,&quot;priority&quot;:3,&quot;system_id&quot;:[&quot;MacBook-Pro.local&quot;],&quot;timestamp&quot;:1578031355}</div><div class="line">print(r)</div></div><!-- fragment --><p>Several C++ and Python <a href="src/samples">samples</a> are included.</p>
<h2>Installation</h2>
<p>A C++14 compiler is required (C++17 preferred).</p>
<p>Documentation:</p>
<div class="fragment"><div class="line">$ ./configure</div><div class="line">$ make doxygen-run</div></div><!-- fragment --><p>Code coverage:</p>
<div class="fragment"><div class="line">$ ./configure --enable-code-coverage</div><div class="line">$ make check-code-coverage</div></div><!-- fragment --><h2>License</h2>
<p>wassail is distributed under the [Mozilla Public License 2.0](LICENSE).</p>
<p>Copyright © 2018-2020 Scott McMillan</p>
<h2>Third Party Software</h2>
<p>wassail incorporates the following third party software.</p>
<ul>
<li><a href="https://github.com/catchorg/Catch2">catch</a> Copyright (c) 2019 Two Blue Cubes Ltd.</li>
<li><a href="https://github.com/fmtlib/fmt">fmtlib</a> Copyright (c) 2012 - present, Victor Zverovich</li>
<li><a href="https://github.com/nlohmann/json">json</a> Copyright (c) 2013-2019 Niels Lohmann &lt;<a href="http://nlohmann.me&gt;">http://nlohmann.me&amp;gt;</a>.</li>
<li><a href="https://github.com/pybind/pybind11">pybind11</a> Copyright (c) 2016 Wenzel Jakob &lt;<a href="#" onclick="location.href='mai'+'lto:'+'wen'+'ze'+'l.j'+'ak'+'ob@'+'ep'+'fl.'+'ch'; return false;">wenze<span style="display: none;">.nosp@m.</span>l.ja<span style="display: none;">.nosp@m.</span>kob@e<span style="display: none;">.nosp@m.</span>pfl.<span style="display: none;">.nosp@m.</span>ch</a>&gt;</li>
<li><a href="https://github.com/gabime/spdlog">spdlog</a> Copyright (c) 2015-present, Gabi Melman &amp; spdlog contributors.</li>
<li><a href="http://www.cs.virginia.edu/stream/ref.html">STREAM</a> Copyright 1991-2013: John D. McCalpin</li>
</ul>
<h2>Entomology</h2>
<p>wassail originates from the Middle English "wæs hæil", or "be in good
health". May your system be in good health!</p>
<blockquote class="doxtable">
<p>Here we come a-wassailing <br />
Among the leaves so green <br />
Here we come a-wand'ring <br />
So fair to be seen <br />
</p>
</blockquote>
<blockquote class="doxtable">
<p>Love and joy come to you, <br />
And to you your wassail too; <br />
And God bless you and send you a Happy New Year <br />
And God send you a Happy New Year </p>
</blockquote>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
